<!DOCTYPE html>
<html>
	<head>
	    <title></title>
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<style type="text/css">
	body, html,#allmap {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
	</style>
	    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=KqqfECQTiiiX2k8Hqf0YGBTYtAZtvz20"></script>
	    <script type="text/javascript" src="http://api.map.baidu.com/library/TextIconOverlay/1.2/src/TextIconOverlay_min.js"></script>
	<script type="text/javascript" src="http://api.map.baidu.com/library/MarkerClusterer/1.2/src/MarkerClusterer_min.js"></script>
	
	<script type="text/javascript" src="http://api.map.baidu.com/library/SearchInfoWindow/1.5/src/SearchInfoWindow_min.js"></script>
	<link rel="stylesheet" href="http://api.map.baidu.com/library/SearchInfoWindow/1.5/src/SearchInfoWindow_min.css" />
	    <meta charset="UTF-8">
	</head>
	<body>
		<div id="allmap"></div>
	</body>

</html>
<script type="text/javascript">
	// 百度地图API功能
	var map = new BMap.Map("allmap");
	map.centerAndZoom("上海");
	map.enableScrollWheelZoom();
 	map.addControl(new BMap.NavigationControl());  
	map.addControl(new BMap.MapTypeControl());  
 	map.addControl(new BMap.ScaleControl());  
	map.addControl(new BMap.OverviewMapControl());  
	var MAX = 100;
	for (var i = 0; i < MAX; i++){
	// 创建地址解析器实例
		var myGeo = new BMap.Geocoder();
		// 将地址解析结果显示在地图上,并调整地图视野
		myGeo.getPoint("龙阳路1880弄68号304室-B卧", function(point){
		if (point) {
			var poi = new BMap.Point(point.lng+Math.random()*0.3,point.lat+Math.random()*0.3);
			var myIcon = new BMap.Icon("http://www.199y.com/picture/igjia/blue2017.png", new BMap.Size(39,25));		    		   
		    var marker = new BMap.Marker(poi,{icon:myIcon}); //创建marker对象
		    marker.addEventListener("click", function(e){
			    searchInfoWindow.open(marker);
		    })
		    map.addOverlay(marker);
		     //创建检索信息窗口对象
		     var content = '<div style="margin:0;line-height:20px;padding:2px;">' +
                    '<img src="../img/baidu.jpg" alt="" style="float:right;zoom:1;overflow:hidden;width:100px;height:100px;margin-left:3px;"/>' +
                    '地址：北京市海淀区上地十街10号<br/>电话：(010)59928888<br/>简介：百度大厦位于北京市海淀区西二旗地铁站附近，为百度公司综合研发及办公总部。' +
                  '</div>';
	var searchInfoWindow = new BMapLib.SearchInfoWindow(map, content, {
			title  : "百度大厦",      //标题
			width  : 290,             //宽度
			height : 105,              //高度
			panel  : "panel",         //检索结果面板
			enableAutoPan : true,     //自动平移
			searchTypes   :[
				BMAPLIB_TAB_SEARCH,   //周边检索
				BMAPLIB_TAB_TO_HERE,  //到这里去
				BMAPLIB_TAB_FROM_HERE //从这里出发
			]
		});
		}		  		
		}, "上海市");
	}
	for (var i = 0; i < MAX; i++){
	// 创建地址解析器实例
		var myGeo = new BMap.Geocoder();
		// 将地址解析结果显示在地图上,并调整地图视野
		myGeo.getPoint("龙阳路1880弄68号304室-A卧", function(point){
		if (point) {
			var myIcon = new BMap.Icon("http://www.199y.com/picture/igjia/red2017.png", new BMap.Size(39,25));
		    map.addOverlay(new BMap.Marker(new BMap.Point(point.lng+Math.random()*0.3,point.lat+Math.random()*0.3),{icon:myIcon}));
		}		  		
		}, "上海市");
	}
	
	
	

   
</script>
